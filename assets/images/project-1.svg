<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#121318"/>
      <stop offset="100%" style="stop-color:#1a1b21"/>
    </linearGradient>
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a2b30"/>
      <stop offset="100%" style="stop-color:#222329"/>
    </linearGradient>
    <linearGradient id="accentGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#818cf8"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bgGrad)"/>

  <!-- Grid pattern -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#2a2b30" stroke-width="0.5"/>
  </pattern>
  <rect width="800" height="400" fill="url(#grid)" opacity="0.5"/>

  <!-- Title -->
  <text x="400" y="35" font-family="Inter, sans-serif" font-size="18" font-weight="600" fill="#f0f0f2" text-anchor="middle">API REST - Sistema de Gesti√≥n de Incidencias</text>
  <text x="400" y="55" font-family="Inter, sans-serif" font-size="11" fill="#6b7280" text-anchor="middle">Middleware de autenticaci√≥n y proxy hacia sistema externo</text>

  <!-- External Apps (Left) -->
  <g transform="translate(40, 90)">
    <rect width="120" height="45" rx="8" fill="url(#cardGrad)" filter="url(#shadow)" stroke="#3f3f46" stroke-width="1"/>
    <text x="60" y="25" font-family="Inter, sans-serif" font-size="10" font-weight="500" fill="#f0f0f2" text-anchor="middle">Apps Internas</text>
  </g>

  <g transform="translate(40, 180)">
    <rect width="120" height="60" rx="8" fill="url(#cardGrad)" filter="url(#shadow)" stroke="#3f3f46" stroke-width="1"/>
    <text x="60" y="25" font-family="Inter, sans-serif" font-size="10" font-weight="500" fill="#f0f0f2" text-anchor="middle">Sistemas</text>
    <text x="60" y="38" font-family="Inter, sans-serif" font-size="10" font-weight="500" fill="#f0f0f2" text-anchor="middle">Externos</text>
  </g>

  <!-- Arrows to API -->
  <path d="M165 125 L240 175" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M165 215 L240 195" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Main API Box -->
  <g transform="translate(250, 100)">
    <rect width="300" height="200" rx="12" fill="url(#cardGrad)" filter="url(#shadow)" stroke="url(#accentGrad)" stroke-width="2"/>

    <!-- Header -->
    <rect width="300" height="40" rx="12" fill="#6366f1" opacity="0.15"/>
    <text x="150" y="26" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#a5b4fc" text-anchor="middle">API REST Django</text>

    <!-- Auth Module -->
    <g transform="translate(15, 50)">
      <rect width="130" height="60" rx="6" fill="#1a1b21" stroke="#3f3f46" stroke-width="1"/>
      <text x="65" y="20" font-family="Inter, sans-serif" font-size="9" font-weight="500" fill="#9ca3af" text-anchor="middle">üîê Autenticaci√≥n</text>
      <text x="65" y="35" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Token Expiring</text>
      <text x="65" y="48" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">User Management</text>
    </g>

    <!-- API External Module -->
    <g transform="translate(155, 50)">
      <rect width="130" height="60" rx="6" fill="#1a1b21" stroke="#3f3f46" stroke-width="1"/>
      <text x="65" y="20" font-family="Inter, sans-serif" font-size="9" font-weight="500" fill="#9ca3af" text-anchor="middle">üîÑ Proxy</text>
      <text x="65" y="35" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Token Renewal</text>
      <text x="65" y="48" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Request Forward</text>
    </g>

    <!-- Logging Module -->
    <g transform="translate(15, 120)">
      <rect width="130" height="60" rx="6" fill="#1a1b21" stroke="#3f3f46" stroke-width="1"/>
      <text x="65" y="20" font-family="Inter, sans-serif" font-size="9" font-weight="500" fill="#9ca3af" text-anchor="middle">üìä Logging</text>
      <text x="65" y="35" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Request/Response</text>
      <text x="65" y="48" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Error Tracking</text>
    </g>

    <!-- Alerts Module -->
    <g transform="translate(155, 120)">
      <rect width="130" height="60" rx="6" fill="#1a1b21" stroke="#3f3f46" stroke-width="1"/>
      <text x="65" y="20" font-family="Inter, sans-serif" font-size="9" font-weight="500" fill="#9ca3af" text-anchor="middle">üìß Alertas</text>
      <text x="65" y="35" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Email SMTP</text>
      <text x="65" y="48" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Status Reports</text>
    </g>
  </g>

  <!-- Arrow to API External -->
  <path d="M555 200 L620 200" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- API External System -->
  <g transform="translate(630, 140)">
    <rect width="130" height="120" rx="8" fill="url(#cardGrad)" filter="url(#shadow)" stroke="#f59e0b" stroke-width="2"/>
    <text x="65" y="25" font-family="Inter, sans-serif" font-size="11" font-weight="600" fill="#fbbf24" text-anchor="middle">API Incident</text>
    <text x="65" y="42" font-family="Inter, sans-serif" font-size="9" fill="#9ca3af" text-anchor="middle">Sistema Externo</text>
    <line x1="15" y1="55" x2="115" y2="55" stroke="#3f3f46" stroke-width="1"/>
    <text x="65" y="75" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">OAuth 2.0</text>
    <text x="65" y="90" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Ticket Management</text>
    <text x="65" y="105" font-family="Fira Code, monospace" font-size="8" fill="#6b7280" text-anchor="middle">Incidencias</text>
  </g>

  <!-- Database -->
  <g transform="translate(350, 320)">
    <ellipse cx="50" cy="12" rx="50" ry="12" fill="#2a2b30" stroke="#3f3f46" stroke-width="1"/>
    <rect x="0" y="12" width="100" height="40" fill="#2a2b30" stroke="#3f3f46" stroke-width="1"/>
    <ellipse cx="50" cy="52" rx="50" ry="12" fill="#2a2b30" stroke="#3f3f46" stroke-width="1"/>
    <ellipse cx="50" cy="12" rx="50" ry="12" fill="none" stroke="#3f3f46" stroke-width="1"/>
    <text x="50" y="38" font-family="Inter, sans-serif" font-size="10" font-weight="500" fill="#9ca3af" text-anchor="middle">MySQL</text>
  </g>

  <!-- Arrow from API to DB -->
  <path d="M400 300 L400 315" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Tech Stack -->
  <g transform="translate(40, 320)">
    <rect x="0" y="0" width="200" height="55" rx="6" fill="#1a1b21" stroke="#3f3f46" stroke-width="1"/>
    <text x="100" y="18" font-family="Inter, sans-serif" font-size="9" font-weight="500" fill="#9ca3af" text-anchor="middle">Tech Stack</text>
    <g transform="translate(10, 28)">
      <rect width="40" height="18" rx="3" fill="#6366f1" opacity="0.2"/>
      <text x="20" y="13" font-family="Fira Code, monospace" font-size="8" fill="#a5b4fc" text-anchor="middle">Python</text>
    </g>
    <g transform="translate(55, 28)">
      <rect width="40" height="18" rx="3" fill="#6366f1" opacity="0.2"/>
      <text x="20" y="13" font-family="Fira Code, monospace" font-size="8" fill="#a5b4fc" text-anchor="middle">Django</text>
    </g>
    <g transform="translate(100, 28)">
      <rect width="28" height="18" rx="3" fill="#6366f1" opacity="0.2"/>
      <text x="14" y="13" font-family="Fira Code, monospace" font-size="8" fill="#a5b4fc" text-anchor="middle">DRF</text>
    </g>
    <g transform="translate(133, 28)">
      <rect width="35" height="18" rx="3" fill="#6366f1" opacity="0.2"/>
      <text x="17" y="13" font-family="Fira Code, monospace" font-size="8" fill="#a5b4fc" text-anchor="middle">MySQL</text>
    </g>
  </g>

  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
  </defs>
</svg>
